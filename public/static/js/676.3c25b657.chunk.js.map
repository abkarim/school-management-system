{"version":3,"file":"static/js/676.3c25b657.chunk.js","mappings":"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","sources":["components/input/TextInput.jsx","pages/CreateSuperUser.jsx"],"sourcesContent":["export default function TextInput({ ...props }) {\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      className=\"bg-slate-100 border-gray-500  border-2 p-1 rounded-sm w-full focus:border-gray-800 text-lg text-gray-900\"\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","import EmailInput from \"../components/input/EmailInput\";\r\nimport Label from \"../components/input/Label\";\r\nimport TextInput from \"../components/input/TextInput\";\r\nimport PasswordInput from \"../components/input/PasswordInput\";\r\nimport Button from \"../components/button/Button\";\r\nimport http from \"../util/http\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport useLoading from \"../hooks/useLoading\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Notification from \"../components/Notification\";\r\nimport isEmpty from \"../util/isEmpty\";\r\nimport isEmail from \"../util/isEmail\";\r\n/**\r\n * ! Error in this file\r\n */\r\n// import isEmail from \"../../util/isEmail\";\r\n\r\nexport default function CreateSuperUser() {\r\n  const navigate = useNavigate();\r\n  const [userExists, setUserExists] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [notification, setNotification] = useState({})\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    cPassword: ''\r\n  })\r\n\r\n  useLoading(loading);\r\n\r\n  useEffect(() => {\r\n    http\r\n      .get(\"/user/super-admin\")\r\n      .then(() => {\r\n        setUserExists(false);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => setUserExists(true));\r\n  }, []);\r\n\r\n  const submit = async () => {\r\n    if (\r\n      isEmpty(formData.name) || isEmpty(formData.email) ||\r\n      isEmpty(formData.password) || isEmpty(formData.cPassword)\r\n    ) return setNotification({\r\n      text: \"please fill all the input\",\r\n      type: 'error'\r\n    })\r\n\r\n\r\n    if (!isEmail(formData.email)) return setNotification({\r\n      text: \"please enter a valid email\",\r\n      type: 'error'\r\n    })\r\n\r\n    if (formData.password !== formData.cPassword) return setNotification({\r\n      text: \"passwords not matched\",\r\n      type: 'error'\r\n    })\r\n\r\n    try {\r\n      await http.post(\"/user/super-admin\", {\r\n        name: formData.name.trim(),\r\n        email: formData.email.trim(),\r\n        password: formData.password.trim(),\r\n      }, {\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n      });\r\n      navigate('/login/super-admin')\r\n    } catch (error) {\r\n      setNotification({\r\n        text: error.response.data.message[0],\r\n        type: 'error'\r\n      })\r\n    }\r\n  };\r\n\r\n  return userExists ? (\r\n    <Navigate to=\"/\" />\r\n  ) : (\r\n    <div className=\"bg-white max-w-lg flex-grow rounded-sm shadow-2xl box-content p-4\">\r\n      <div className=\"p-2\"></div>\r\n      <h1 className=\"text-3xl text-gray-900 font-lato font-semibold tracking-normal\">\r\n        Create super user\r\n      </h1>\r\n      <div className=\"p-2\"></div>\r\n      <Label>Enter name</Label>\r\n      <TextInput value={formData.name} onInput={(e) => setFormData({ ...formData, name: e.target.value })} />\r\n      <div className=\"p-2\"></div>\r\n      <Label>Enter email</Label>\r\n      <EmailInput value={formData.email} onInput={(e) => setFormData({ ...formData, email: e.target.value })} />\r\n      <div className=\"p-2\"></div>\r\n      <Label>Enter password</Label>\r\n      <PasswordInput value={formData.password} onInput={(e) => setFormData({ ...formData, password: e.target.value })} />\r\n      <div className=\"p-2\"></div>\r\n      <Label>Confirm password</Label>\r\n      <PasswordInput value={formData.cPassword} onInput={(e) => setFormData({ ...formData, cPassword: e.target.value })} />\r\n      <div className=\"p-3\"></div>\r\n      <Button onClick={submit}>Create user</Button>\r\n      <div className=\"p-2\"></div>\r\n      {notification.text &&\r\n        <Notification type={notification.type} onClose={() => setNotification({})} closeOnBGClick={true}>\r\n          {notification.text}\r\n        </Notification>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n"],"names":["TextInput","props","type","className","CreateSuperUser","navigate","useNavigate","useState","userExists","setUserExists","loading","setLoading","notification","setNotification","name","email","password","cPassword","formData","setFormData","useLoading","useEffect","http","then","catch","submit","isEmpty","text","isEmail","trim","headers","response","data","message","to","Label","value","onInput","e","target","EmailInput","PasswordInput","Button","onClick","Notification","onClose","closeOnBGClick"],"sourceRoot":""}