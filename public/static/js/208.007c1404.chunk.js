"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[208],{195:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(8683),s=n(4925),a=n(1087),i=n(184),c=["children"];function l(e){var t=e.children,n=(0,s.Z)(e,c);return(0,i.jsx)(a.rU,(0,r.Z)((0,r.Z)({className:"underline hover:text-teal-500 font-sans"},n),{},{children:t}))}},1832:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(2791);function s(e){var t=document.title;(0,r.useEffect)((function(){return document.title=e,function(){return document.title=t}}),[e,t])}},208:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(4165),s=n(5861),a=n(885),i=n(2791),c=n(2044),l=n(8683),o=n(6459),u=n(184);function d(e){var t=Object.assign({},((0,o.Z)(e),e));return(0,u.jsx)("input",(0,l.Z)({type:"checkbox",className:"inline-block"},t))}var p=n(9061),x=n(3412),f=n(6393),m=n(1832),h=n(195),Z=n(7689),v=n(7441),j=n(2460),g=n(3999),b=n(4718),k=n(5761);var w=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],l=t[1],o=(0,i.useState)(""),w=(0,a.Z)(o,2),y=w[0],N=w[1],C=(0,i.useState)(""),S=(0,a.Z)(C,2),E=S[0],O=S[1],U=(0,i.useState)({}),q=(0,a.Z)(U,2),I=q[0],B=q[1],G=(0,i.useState)(!1),L=(0,a.Z)(G,2),P=L[0],z=L[1],A=(0,Z.s0)();(0,k.Z)(P);var D=(0,Z.UO)().role;(0,m.Z)("".concat(D," login")),(0,i.useEffect)((function(){"student"!==D&&"parent"!==D&&"teacher"!==D&&"librarian"!==D&&"accountant"!==D&&"admin"!==D&&"super-admin"!==D&&A("/login")}),[A,D]);var F=function(){return l(!n)},H=(0,i.useCallback)((0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.Z)(y)){e.next=2;break}return e.abrupt("return",B({text:"email is required",type:"error"}));case 2:if(!(0,g.Z)(E)){e.next=4;break}return e.abrupt("return",B({text:"password is required",type:"error"}));case 4:if((0,b.Z)(y)){e.next=6;break}return e.abrupt("return",B({text:"please enter a valid email",type:"error"}));case 6:return z(!0),e.prev=7,e.next=10,v.Z.post("login/".concat(D),{email:y,password:E,onetime:!n},{headers:{"content-type":"application/json"}});case 10:B({text:"logged in success, redirecting please wait...",type:"success"}),A("/"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),B({text:e.t0.response.data.message[0],type:"error"});case 17:return e.prev=17,z(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])}))),[n,y,E,A,D]);return(0,u.jsxs)("div",{className:"bg-white p-4 max-w-lg flex-grow rounded-sm shadow-2xl",children:[(0,u.jsx)("div",{className:"p-2"}),(0,u.jsxs)("h1",{className:"text-3xl text-gray-900 font-semibold tracking-normal font-lato",children:[D.slice(0,1).toUpperCase(),D.slice(1)," login"]}),(0,u.jsxs)("p",{children:[(0,u.jsxs)(h.Z,{to:"/login",children:["not ",D,"?"]})," login as other user"]}),(0,u.jsx)("div",{className:"p-2"}),(0,u.jsx)(x.Z,{children:"Email"}),(0,u.jsx)(p.Z,{name:"email",value:y,onInput:function(e){return N(e.target.value)}}),(0,u.jsx)("div",{className:"p-1"}),(0,u.jsx)(x.Z,{children:"Password"}),(0,u.jsx)(f.Z,{name:"password",value:E,onInput:function(e){return O(e.target.value)}}),(0,u.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(d,{checked:n,onChange:F}),(0,u.jsx)("span",{className:"ml-1"}),(0,u.jsx)(x.Z,{small:!0,onClick:F,children:"remember me"})]}),(0,u.jsx)("div",{children:(0,u.jsx)(x.Z,{small:!0,children:(0,u.jsx)(h.Z,{to:"/login/".concat(D,"/forgot-password"),children:"forgot password?"})})})]}),(0,u.jsx)("div",{className:"p-2"}),(0,u.jsx)(c.Z,{onClick:H,children:"Login"}),(0,u.jsx)("div",{className:"p-2"}),I.text&&(0,u.jsx)(j.Z,{type:I.type,onClose:function(){return B({})},closeOnBGClick:!0,children:I.text})]})}}}]);
//# sourceMappingURL=208.007c1404.chunk.js.map